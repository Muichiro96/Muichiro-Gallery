<br/>


<br/>
<br/>
<div class="container">
    <div class="row">
        <div class="col">
            <div class="card">
            <div class="container ">
                <div class="row">
                    
                    <div class="col-12 col-sm-6 mt-4 mb-4 ml-2 mr-2"><div class="col-12"><img src="http://localhost:8080/{{image.imagePath}}" class="product-image" alt="..." width="100%" height="100%" > </div><div class="col-12 product-image-thumbs">
                       
                        </div> </div>
                    <div class="col-12 col-sm-6 mt-4"><button  style="border-radius: 100%; border: 8px black; margin-left: 0px;" value="{{image.idPublication}}" (click)="onClick($event)"><i  [ngClass]="exist(image.idPublication) ? 'fa-solid fa-heart' : 'fa-regular fa-heart'"></i></button><img class="profile-user-img img-fluid img-circle mr-4" src="assets/avatar.png" alt="User profile picture" ><b>{{image.publisher.username}}</b><br/>
                    <br/>
                    <div style="margin-left: 20px;">
                    <h4>Title:</h4>
                    <h5>{{image.title}}</h5>
                    
                    <h4>Description:</h4>
                    <div width="70%">{{image.description}}</div></div>

                    <div class="stars" style="margin-left: 20px;margin-bottom: 20px;"><rating [(ngModel)]="rate" [max]="max" [readonly]="isReadonly"></rating></div>
                    <div class="mt-4 product-share">
                        <a href="#" class="text-gray">
                        <i class="fab fa-facebook-square fa-2x"></i>
                        </a>
                        <a href="#" class="text-gray">
                        <i class="fab fa-twitter-square fa-2x"></i>
                        </a>
                        <a href="#" class="text-gray">
                        <i class="fas fa-envelope-square fa-2x"></i>
                        </a>
                        <a href="#" class="text-gray">
                        <i class="fas fa-rss-square fa-2x"></i>
                        </a>
                        </div>
                </div>
                </div>
                
            </div>
        </div>
        </div>
    </div>
</div>
@if(hasComment){}
@else{
<div style="margin-left: 60px;margin-top: 30px;">
    @if(message.length>=2){
        <div class="alert alert-info"  role="alert ">
        {{message}}
      </div>}	<h3>- Please share your review with us.</h3> 
<div class="stars"><rating [(ngModel)]="formRating" [max]="max" [readonly]="false"></rating><br/>
</div><textarea placeholder="Add more details" class="form-control" [(ngModel)]="detail"  style="width: 80%; height: 100px;"></textarea><br/>
<button type="submit" class="btn btn-success" style="margin-left: 950px;" (click)="onSubmit()">Submit</button></div>}
<br/>
<h1 class="text-center">Reviews</h1> 
@for (review of reviews;track review.id){
    <app-comment [rate]="review.rate" [username]="review.reviewer.username" [review]="review.review"></app-comment>
}